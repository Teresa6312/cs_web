{% extends "main/base_site.html" %}
{% load i18n static %}

{% block title%}
{% trans 'Qycs's Collection Points' %}
{% endblock%}

{% block messages %}
    {% if messages %}
    <ul class="messagelist">{% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
    {% endfor %}</ul>
    {% endif %}
{% endblock messages %}

{% block content %}
<div class="w3-cell-row w3-mobile">
    <div class="w3-panel">
        <h1>{% trans 'Our Collection Points' %}</h1>
        <div id="default_col_block" class="w3-row">
          <h4>{% trans 'Your Selected Collection Point' %}</h4>
            {% if user.default_col %}
                {% include "blocks/default_col_card.html" with col=user.default_col %}
            {% endif %}
            <button id="add_package_btn" type="button" onclick="window.location.href='{{user.default_col.get_absolute_url.add_co_shipping}}'">{% trans 'Add package' %}</button>
        </div>
        <div class="w3-cell w3-container">
          <input id="pac-input" class="controls" type="text" placeholder="{% trans 'Search Box' %}">
          <div id="map" style="width:750px; height:500px;"></div>
        </div>

        <div class="w3-cell w3-container content-background-color" style="min-width:400px;">
          <h5>{% trans 'Select a Collection Point' %}</h5>

            {% include "blocks/select_collection_point.html" with col_list=col_list%}

        </div>

    </div>
</div>
{% endblock %}

{% block script%}
<script src="{% static 'main/js/map.js' %}"></script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCuQpITLk1GMkrPyVzBRNqvg_0QPgwMtZs&libraries=places&callback=initAutocomplete">
</script>

{% endblock %}
